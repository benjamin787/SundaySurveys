{"ast":null,"code":"var _jsxFileName = \"/Users/benrowe/Development/Flatiron/comeback/4mod/project/survey-app/src/components/SurveyPage.js\";\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport RadioGroup from '@material-ui/core/FormGroup';\nimport Radio from '@material-ui/core/Radio';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nconst responseURL = 'http://localhost:3000/question_responses';\n\nfunction SurveyPage({\n  openSurvey\n}) {\n  const {\n    register,\n    handleSubmit,\n    getValue\n  } = useForm(); // value={value}\n\n  const displayOptions = () => {\n    console.log('option problem');\n\n    for (const i in [1, 2, 3, 4]) {\n      return /*#__PURE__*/React.createElement(FormControlLabel, {\n        control: /*#__PURE__*/React.createElement(Radio, {\n          value: i,\n          name: \"option\",\n          inputRef: register,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 26\n          }\n        }),\n        value: i,\n        label: i,\n        labelPlacement: \"bottom\",\n        checked: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 22\n        }\n      });\n    }\n  };\n\n  const displayQuestions = () => {\n    openSurvey.survey_questions.map(question => {\n      console.log('question problem', question);\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(FormLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 25\n        }\n      }, question.content), /*#__PURE__*/React.createElement(RadioGroup, {\n        name: question.id,\n        \"aria-label\": true,\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }\n      }, displayOptions())));\n    });\n  }; //         return ( \n  //             <li className='question-li' key={question.id}>\n  //                 <label>{question.content}</label>\n  //                 <input name={question.id} type='checkbox' ref={register({required: true})} />\n  //             </li>\n  //         )\n  //     })\n  // }\n\n\n  const respondToSubmit = boolean => {\n    const buttonResponse = boolean ? 'Thanks for your submission!' : 'Please check that all questions have been answered.';\n    return alert(buttonResponse); // return <button>{buttonResponse}</button> \n  };\n\n  const submitAnswers = event => {\n    event.preventDefault();\n    const answers = getValue();\n    const confirmation = fetch(responseURL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(answers)\n    });\n    respondToSubmit(confirmation); // add onclick redirect or link somehow? \n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, openSurvey.title), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"questions-list\",\n    onSubmit: handleSubmit(submitAnswers),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, displayQuestions(), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n}\n\nexport default SurveyPage;","map":{"version":3,"sources":["/Users/benrowe/Development/Flatiron/comeback/4mod/project/survey-app/src/components/SurveyPage.js"],"names":["React","useForm","RadioGroup","Radio","ListItem","FormControl","FormControlLabel","FormLabel","responseURL","SurveyPage","openSurvey","register","handleSubmit","getValue","displayOptions","console","log","i","displayQuestions","survey_questions","map","question","content","id","respondToSubmit","boolean","buttonResponse","alert","submitAnswers","event","preventDefault","answers","confirmation","fetch","method","headers","body","JSON","stringify","title"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useForm } from 'react-hook-form'\nimport RadioGroup from '@material-ui/core/FormGroup'\nimport Radio from '@material-ui/core/Radio'\nimport ListItem from '@material-ui/core/ListItem'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormLabel from '@material-ui/core/FormLabel'\n\nconst responseURL = 'http://localhost:3000/question_responses'\n\nfunction SurveyPage({ openSurvey }) {\n\n    const { register, handleSubmit, getValue } = useForm()\n\n    // value={value}\n\n\n    const displayOptions = () => {\n        console.log('option problem')\n        for (const i in [1, 2, 3, 4]) {\n            return ( <FormControlLabel\n                control={<Radio value={i} name='option' inputRef={register} />}\n                value={i}\n                label={i}\n                labelPlacement='bottom'\n                checked={false}\n            />)\n        }\n    }\n\n    const displayQuestions = () => {\n        openSurvey.survey_questions.map(question => {\n            console.log('question problem', question)\n            return ( \n                <li>\n                    <FormControl required={true} >\n                        <FormLabel>{question.content}</FormLabel>\n                        <RadioGroup name={question.id} aria-label row>\n                            {displayOptions()}\n                        </RadioGroup>\n                    </FormControl>\n                </li>\n            )\n        })\n    }\n    //         return ( \n    //             <li className='question-li' key={question.id}>\n    //                 <label>{question.content}</label>\n    //                 <input name={question.id} type='checkbox' ref={register({required: true})} />\n    //             </li>\n    //         )\n    //     })\n    // }\n\n    const respondToSubmit = (boolean) => {\n        const buttonResponse = boolean\n            ? 'Thanks for your submission!'\n            : 'Please check that all questions have been answered.'\n        return alert(buttonResponse)\n        // return <button>{buttonResponse}</button> \n    }\n\n    const submitAnswers = (event) => {\n        event.preventDefault()\n        const answers = getValue()\n        const confirmation = fetch(responseURL, {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(answers)\n        })\n        respondToSubmit(confirmation)\n        // add onclick redirect or link somehow? \n    }\n    \n    \n    return (\n        <div>\n            <h2>{openSurvey.title}</h2>\n            <form className='questions-list'\n                onSubmit={handleSubmit(submitAnswers)}>\n                {displayQuestions()}\n                <button type='submit'>Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default SurveyPage\n"]},"metadata":{},"sourceType":"module"}