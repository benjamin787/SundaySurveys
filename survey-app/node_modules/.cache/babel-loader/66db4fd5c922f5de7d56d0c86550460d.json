{"ast":null,"code":"import _regeneratorRuntime from\"/Users/benrowe/Development/Flatiron/comeback/4mod/project/survey-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/benrowe/Development/Flatiron/comeback/4mod/project/survey-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/benrowe/Development/Flatiron/comeback/4mod/project/survey-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import{Route,Switch}from'react-router-dom';import Container from'@material-ui/core/Container';import SurveyContainer from'./components/SurveyContainer';import Home from'./components/Home';import SurveyPage from'./components/SurveyPage';var surveyURL='http://localhost:3000/surveys';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),surveys=_useState2[0],setSurveys=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),openSurvey=_useState4[0],setOpenSurvey=_useState4[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var promise,surveyData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(surveyURL);case 2:promise=_context.sent;_context.next=5;return promise.json();case 5:surveyData=_context.sent;setSurveys(surveyData);case 7:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Container,{maxWidth:\"sm\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Sunday with the Firooz's\"),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/surveys\",render:function render(routerProps){return/*#__PURE__*/React.createElement(SurveyContainer,Object.assign({surveys:surveys,setOpenSurvey:setOpenSurvey},routerProps));}}),/*#__PURE__*/React.createElement(Route,{path:\"/surveys/\".concat(openSurvey.id),render:function render(routerProps){return/*#__PURE__*/React.createElement(SurveyPage,{openSurvey:openSurvey,setOpenSurvey:setOpenSurvey});}}))));}export default App;","map":{"version":3,"sources":["/Users/benrowe/Development/Flatiron/comeback/4mod/project/survey-app/src/App.js"],"names":["React","useState","useEffect","Route","Switch","Container","SurveyContainer","Home","SurveyPage","surveyURL","App","surveys","setSurveys","openSurvey","setOpenSurvey","fetchData","fetch","promise","json","surveyData","routerProps","id"],"mappings":"8iBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,WAAP,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,kBAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CAGA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CAEA,GAAMC,CAAAA,SAAS,CAAG,+BAAlB,CAEA,QAASC,CAAAA,GAAT,EAAe,eAEiBT,QAAQ,CAAC,EAAD,CAFzB,wCAENU,OAFM,eAEGC,UAFH,8BAGuBX,QAAQ,CAAC,EAAD,CAH/B,yCAGNY,UAHM,eAGMC,aAHN,eAKbZ,SAAS,CAAC,UAAM,SACCa,CAAAA,SADD,qIACd,gLACsBC,CAAAA,KAAK,CAACP,SAAD,CAD3B,QACMQ,OADN,qCAEyBA,CAAAA,OAAO,CAACC,IAAR,EAFzB,QAEMC,UAFN,eAGEP,UAAU,CAACO,UAAD,CAAV,CAHF,sDADc,4CAMdJ,SAAS,GACV,CAPQ,CAON,EAPM,CAAT,CASA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,SAAD,EAAW,QAAQ,CAAC,IAApB,eACE,yDADF,cAEE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAER,IAAjC,EADF,cAEE,oBAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,UADb,CAEE,MAAM,CAAE,gBAAAa,WAAW,qBACjB,oBAAC,eAAD,gBACA,OAAO,CAAET,OADT,CAEA,aAAa,CAAEG,aAFf,EAGIM,WAHJ,EADiB,EAFrB,EAFF,cAWE,oBAAC,KAAD,EACE,IAAI,oBAAcP,UAAU,CAACQ,EAAzB,CADN,CAEE,MAAM,CAAE,gBAAAD,WAAW,qBAAI,oBAAC,UAAD,EACrB,UAAU,CAAEP,UADS,CAErB,aAAa,CAAEC,aAFM,EAAJ,EAFrB,EAXF,CAFF,CADF,CADF,CA4BD,CAED,cAAeJ,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Route, Switch } from 'react-router-dom'\nimport Container from '@material-ui/core/Container'\n\n\nimport SurveyContainer from './components/SurveyContainer'\nimport Home from './components/Home'\nimport SurveyPage from './components/SurveyPage'\n\nconst surveyURL = 'http://localhost:3000/surveys'\n\nfunction App() {\n\n  const [surveys, setSurveys] = useState([])\n  const [openSurvey, setOpenSurvey] = useState({})\n\n  useEffect(() => {\n    async function fetchData() {\n      let promise = await fetch(surveyURL)\n      let surveyData = await promise.json()\n      setSurveys(surveyData)\n    }\n    fetchData()\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <Container maxWidth='sm'>\n        <h1>Sunday with the Firooz's</h1>\n        <Switch>\n          <Route exact path='/' component={Home} />\n          <Route \n            exact path='/surveys'\n            render={routerProps =>\n              <SurveyContainer\n              surveys={surveys}\n              setOpenSurvey={setOpenSurvey}\n              {...routerProps}\n              />}\n              />\n          <Route\n            path={`/surveys/${openSurvey.id}`}\n            render={routerProps => <SurveyPage\n              openSurvey={openSurvey}\n              setOpenSurvey={setOpenSurvey}\n              />}\n              />\n          {/* <SurveyContainer surveys={surveys} /> */}\n          {/* redirect back to home, with error message - like 'survey already completed' */}\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}